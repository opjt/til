# 하이퍼바이저 Hypervisor

> window VMWare로 vm을 올리는 것과 proxmox에서 vm을 띄우는 게 뭐가 다르죠 ?

- [하이퍼바이저란? - RedHat](https://www.redhat.com/ko/topics/virtualization/what-is-a-hypervisor)

하이퍼바이저는 컴퓨터 리소스를 가상머신(VM)에 할당하는 소프트웨어이다.  
이 기술로 단일 머신(물리적)에서 여러 VM을 생성하여 실행하는 가상화가 가능하다.

다른 말로는 가상화 머신 매니저(모니터) (Virtual machine manager,monitor) 라고도 함.

물리적 자원(CPU,RAM,디스크 등)을 쪼개서 각 가상머니(VM)에게 나눠주는 감독관 역할이라고 보면 된다.

- VM 입장에선 자신이 진짜 하드웨어를 쓰고 있다고 착하게 만듬

## 하이퍼바이저 Type1, Type2

하이퍼바이저가 하드웨어를 직접 제어하는지,  
아니면 호스트OS 위에서 제어하느냐에 따라 Type이 나뉘게 된다.

**Type 1 (Bare-Metal)**

하드웨어 바로 위에 하이퍼바이저가 올라가는 방식이다.  
범용 운영체제(Windows, macOS 등)없이 하이퍼바이저가 하드웨어를 직접 제어하고 가상머신들을 관리한다.

- 빈 하드웨어(bare-metal)에 하이퍼바이저가 첫번째로 올라가는 형태이기 때문에 베어메탈 형식이라 함
- 타입1 하이퍼바이저도 기술적으론 일종의 운영체제이거나, 최소한의 OS 기능을 포함하고 있다.
  - 일반적인 범용 운영체제가 아닌 가상화에 특화된 경량OS라고 보면 됨.

**Type 2 (Hosted)**

host OS(Windows, macOS 등 일반 운영체제) 위에 하이퍼바이저가 올라가는 방식이다.  
하드웨어 위에 host OS가 이미 설치되어 있고, 하이퍼바이저가 그 위에 올라가서 동작하게 된다.

- 호스트OS를 거쳐서 하드웨어에 접근하기 때문에 추가적인 오버헤드가 발생한다.
- 대표적으로 VMWare Workstation, Oracle VirtualBox 등이 있다.

## proxmox는?

그렇다면 `proxmox`는 타입1인가 타입2인가?  
결론부터 말하자면 타입1이다.

type1은 OS가 없다는 뜻이 아니라, 하이퍼바이저가 하드웨어의 주인이냐가 기준이기 때문.

- proxmox는 데비안 리눅스를 기반으로 하지만 이는 일반적인 데비안이 아닌 가상화 전용으로 커스텀된 OS고 이게 즉 하이퍼바이저라고 할 수 있음.
