import{_ as i,c as a,o as n,ag as p}from"./chunks/framework.B0zzL8Pn.js";const c=JSON.parse('{"title":"SCP","description":"","frontmatter":{},"headers":[],"relativePath":"Tech/~/linux/scp.md","filePath":"Tech/~/linux/scp.md","lastUpdated":1765009977000}'),h={name:"Tech/~/linux/scp.md"};function l(t,s,e,k,r,F){return n(),a("div",null,s[0]||(s[0]=[p(`<h1 id="scp" tabindex="-1">SCP <a class="header-anchor" href="#scp" aria-label="Permalink to &quot;SCP&quot;">​</a></h1><blockquote><p>SCP(Secure COPY)</p></blockquote><blockquote><p>사실 리눅스 카테고리 라고 하기엔 좀 그렇지만, 리눅스 환경에서 제일 많이 쓰기 때문에 리눅스 카테고리로 넣음.</p></blockquote><p>SCP가 원격지에 파일을 보내거나 가져올 때 사용하는 파일 전송 프로토콜 , 명령어 이다</p><h2 id="scp-와-ssh" tabindex="-1">SCP 와 SSH <a class="header-anchor" href="#scp-와-ssh" aria-label="Permalink to &quot;SCP 와 SSH&quot;">​</a></h2><p><code>SCP</code>는 <code>SSH</code> 위에서 동작한다는 점.</p><ul><li><a href="https://www.openssh.org/txt/release-9.0" target="_blank" rel="noreferrer">https://www.openssh.org/txt/release-9.0</a> , 9.0 이전에는.</li></ul><p>openSSH 9.9 버전부터는 <code>SCP</code> 명령어를 실행하면 내부적으로 구식 SCP 프로토콜이 아닌 SFTP 프로토콜을 사용한다.</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scp</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -O</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> file</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> user@host:/path</span></span></code></pre></div><p>만약 옛날 형식의 scp를 사용하려면 <code>-O</code> 옵션을 사용하면 된다.</p><h2 id="구형-scp-동작-방식" tabindex="-1">구형 scp 동작 방식 <a class="header-anchor" href="#구형-scp-동작-방식" aria-label="Permalink to &quot;구형 scp 동작 방식&quot;">​</a></h2><ul><li><a href="https://github.com/openssh/openssh-portable/blob/master/scp.c" target="_blank" rel="noreferrer">openssh-scp.c</a></li></ul><p>상세 코드는 위 github에서 볼 수 있다.</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[Client scp]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    |</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> 1.</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> SSH</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 연결</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 생성</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    |</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[Server sshd]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    |</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> 2.</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> scp</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -t</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /path</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 실행</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    |</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[Server scp </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-t</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    |</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> 3.</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 서버</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> →</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 클라:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (준비됨)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    |</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[Client scp]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    |</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> 4.</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 파일</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 헤더</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 전송:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;C0644 11 file.txt\\n&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    |</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> 5.</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 파일</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 내용</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 전송:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;&lt;바이트&gt;&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    |</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> 6.</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 파일</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 끝:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;\\0&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    |</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> 7.</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 서버</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> →</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> OK</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;\\0&quot;</span></span></code></pre></div><p><code>SCP</code> 는 <code>SSH</code> 연결 후 stdin/stdout으로 통신하는 구조다 (SSH는 단순히 파이프의 역할을 수행)</p>`,15)]))}const o=i(h,[["render",l]]);export{c as __pageData,o as default};
